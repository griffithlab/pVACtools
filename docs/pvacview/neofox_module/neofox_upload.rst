.. image:: ../../images/pVACview_logo_trans-bg_sm_v4b.png
    :align: right
    :alt: pVACview logo

.. _neofox_upload:

NeoFox Upload
---------------

Upload
______

After successfully launching pVACview by completing the :ref:`prerequisites <pvacview_prerequisites>` section, users can now upload their data by browsing through
local directories to load in the a tab-separated (tsv) file generated by NeoFox.

The one required file should end with the suffix ``_neoantigen_candidates_annotated.tsv``.
The module expects all NeoFox annotated features to be in in the file but can also handle input files with additional annotations appended to the neoantigen candidates.

.. figure:: ../../images/screenshots/pvacview-neofox-upload.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left


Visualize and Explore
_____________________

Data
****

Upon successfully uploading the correct data file, users can now explore the different aspects of their neoantigen candidates.

.. figure:: ../../images/screenshots/pvacview-neofox-maintable.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left

There are three features that can be used to explore data:

- **Annotated Neoantigen Candidates Table**

  - Main table showcasing all candidates

- **Comparative Violin Plots**

  - Up to six violin plots showcasing spread of any NeoFox feature
  - Pre-selected features are ones that we found most informative
  - Selected candidate are shown in red

- **Dynamic Scatter Plot**

  - A scatter plot comparing multiple NeoFox features simultaneously
  - Pre-selected features are ones that we found most informative
  - Users can change axis features, color feature, and size feature. They can also transform the data with natural log, log2, log10, and square root, adjust data range, and set different colors for minimum and maximum.


Investigating Different Variants
********************************

To investigate different candidates simple click one or more row from the **Annotated Neoantigen Candidates** table. The selected candidate(s) will be highlighted in red in the **Comparative Violin Plots**. Selecting a candidate does not affect the **Dynamic Scatter Plot**.

.. figure:: ../../images/screenshots/pvacview-neofox-violinplots_selected.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left

Users can explore all candidates together using the **Dynamic Scatter Plot**. To identify a candidates of interest from the scatter plot, simple curse-over the point of interest for the specific information about that candidate to be shown.

.. figure:: ../../images/screenshots/pvacview-neofox-dynamicscatterplot_selected.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left
