.. image:: ../../images/pVACview_logo_trans-bg_sm_v4b.png
    :align: right
    :alt: pVACview logo

.. _neofox_upload:

.. raw:: html

  <style> .large {font-size: 90%; font-weight: bold} </style>
  <style> .bold {font-size: 100%; font-weight: bold} </style>

.. role:: large
.. role:: bold

NeoFox Upload
---------------

:large:`Upload`
____________________________

Once you've successfully launched pVACview by completing the :ref:`prerequisites <pvacview_prerequisites>` section, you can now upload your data by browsing through
your local directories to load in the a tabular formmated (tsv) file generated by NeoFox.

The one required file should end with the suffix ``_neoantigen_candidates_annotated.tsv``. 
The module expects all all NeoFox annotated features to be in in the file and can handle input with other annotations you might append to the neoantigen candidates.

.. figure:: ../../images/screenshots/pvacview-neofox-upload.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left


:large:`Visualize and Explore`
______________________________

Data
****

Upon successfully uploading the correct data file, you can now explore the different aspects of your neoantigen candidates.

.. figure:: ../../images/screenshots/pvacview-neofox-maintable.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left

There are three features that can be used to explore data:

- :bold:`Annotated Candidates Table`

  - Main table showcasing all candidates

- :bold:`Comparative Violin Plots`

  - Up to six violin plots showcasing spread of any NeoFox feature
  - Pre-selected features are ones that we found most imformative
  - Selected candidate shown in red

- :bold:`Dynamic Scatter Plot`

  - A scatter plot comparing mutiple NeoFox features simultaneously
  - Pre-selected features are ones that we found most imformative
  - You can change axis features, color feature, and size feature. You can also transform the data with natural log, log2, log10, and square root, adjust data range, and set different colors for minimum and maximum.


Investigating Different Variants
********************************

To investigate different candidates simple click one row (or mutiple) from the Annotated Candidates Table. That candidate will be highlighted in red in the violin plots. Selecting a candidate does not effect the dynamic scatter plot. 

.. figure:: ../../images/screenshots/pvacview-neofox-violinplots_selected.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left

You can explore all candidates together using the synamic scatter plot. To identify a candidates of interest from the scatter plot, simple curse-over the point of interest for the specific information about that candidate to be shown.

.. figure:: ../../images/screenshots/pvacview-neofox-dynamicscatterplot_selected.png
    :width: 1000px
    :align: right
    :alt: pVACview Upload
    :figclass: align-left